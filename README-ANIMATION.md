# 动画和 GIF 导出功能说明

## 🎬 功能概述

字体工具支持完整的参数动画系统，可以将动画效果保存为 GIF 格式。

## ✨ 动画参数

以下参数在动画播放时会自动变化：

1. **Axis Count（轴线数量）** - 循环变化，创造密集/稀疏效果
2. **Axis Stroke Width（轴线粗细）** - 脉冲式变化，创造呼吸感
3. **Rotation（旋转）** - 持续旋转或往复摆动，根据渲染模式自动选择
4. **Radius（半径）** - 大小变化
5. **Center Circle Size（中心圆大小）** - 特定模式下的核心效果

## 📖 使用步骤

### 1. 方式一：完整动画模式（播放按钮）

#### 开始动画
1. 在字体工具页面右下角找到 **圆形播放按钮**（带圆圈和十字图案）
2. 点击按钮开始完整动画
3. 按钮会显示脉冲效果，表示动画正在播放
4. 再次点击可暂停动画

#### 保存 GIF
1. **先点击播放按钮**开始完整动画
2. 在右侧控制面板找到 **"GIF"** 按钮
3. 点击 GIF 按钮开始录制
4. 录制播放按钮触发的完整动画效果（包含多个参数变化）
5. 录制 5 秒后自动生成 GIF

**特点**：
- 包含所有参数变化（Radius、Axis Count、Axis Stroke Width、Rotation、Center Circle 等）
- 不同 Render Mode 有不同的动画配置
- 适合复杂、多层次的动画效果

---

### 2. 方式二：单参数循环模式 🆕

#### 开始单参数循环
1. 在右侧控制面板找到以下参数标签：
   - **Axis Count** - 轴线数量
   - **Axis Stroke Width** - 轴线粗细
   - **Rotation** - 旋转角度
2. **点击参数标签**（不是滑块）开始该参数的循环播放
3. 标签会变成**粗体**，表示正在循环
4. 再次点击标签可停止循环

**循环效果：**
- **Axis Count** - 在最小值和最大值之间来回循环
- **Axis Stroke Width** - 在最小值和最大值之间来回循环（脉冲效果）
- **Rotation** - 连续 0°→360° 旋转（不来回）

#### 保存 GIF
1. **点击任意参数标签**开始该参数的循环（标签变粗体）
2. 在右侧控制面板找到 **"GIF"** 按钮
3. 点击 GIF 按钮开始录制
4. 录制该参数的循环动画
5. 录制 5 秒后自动生成 GIF
6. 可以同时开启多个参数的循环，GIF 会录制所有正在循环的效果

**特点**：
- 专注于单个或多个参数的循环变化
- 快速生成简单循环动画
- 可组合多个参数（如：Rotation + Axis Count）
- 适合展示参数效果对比

---

### 共同流程
- 按钮显示 "Recording..." 时正在录制
- 录制 5 秒后（50 帧）自动停止
- 按钮显示 "Processing..." 时正在生成 GIF
- GIF 自动下载到浏览器默认下载位置

### 3. 自定义动画效果
- 在开始动画前，先调整好各个参数到你想要的基础值
- 动画会基于这些设置值进行变化
- 不同的 Render Mode 有不同的动画效果：
  - **Radial** - 旋转 + 轴数脉冲
  - **Sphere Grid** - 旋转 + 网格变化
  - **Spiral Square** - 持续旋转（螺旋效果）
  - **Twisted Grid** - 旋转 + 锯齿波轴数变化
  - 等等...

## 🎯 动画波形类型

系统使用多种波形创造丰富的动画效果：

- **slow** - 慢速正弦波
- **fast** - 快速正弦波
- **pulse** - 脉冲式（绝对值正弦）
- **triangle** - 三角波
- **saw** - 锯齿波
- **continuous** - 持续增加（适合旋转）
- **pendulum** - 钟摆式（单次正弦）
- **wave** - 平滑波浪

## 🎨 渲染模式动画配置

每个渲染模式都有专门优化的动画效果：

### Radial（径向线）
- Rotation: 持续旋转
- Axis Count: 脉冲变化
- Center Circle: 快速变化

### Sphere Grid（球形网格）
- Rotation: 持续旋转
- Axis Count: 三角波变化
- Axis Stroke Width: 快速变化

### Twisted Radial（扭曲径向）
- Rotation: 持续旋转（高速）
- Center Circle: 快速脉冲

### 其他模式
查看代码中的 `renderModeAnimations` 配置了解所有模式的动画参数。

## 💡 技巧

### 方式一 - 完整动画的最佳效果
- 选择合适的 Render Mode（不同模式有不同的动画配置）
- 调整参数到有趣的基础值
- 确保动画流畅（不要设置过小的 radius）
- 包含更多参数变化（Radius、Center Circle 等）

### 方式二 - 单参数循环的最佳效果
- **单参数展示**：只点击一个参数标签，专注展示该参数的效果
- **组合效果**：同时点击多个参数标签（如 Rotation + Axis Count），创造复合动画
- **快速对比**：快速切换不同参数的循环，对比视觉效果
- **适合教学**：清晰展示单个参数对字体的影响

### 创意组合建议
1. **Rotation 单独** - 展示旋转效果
2. **Axis Count 单独** - 展示密度变化
3. **Axis Stroke Width 单独** - 展示线条粗细变化
4. **Rotation + Axis Count** - 旋转 + 密度变化
5. **Axis Count + Axis Stroke Width** - 密度 + 粗细同时变化
6. **全部三个参数** - 最复杂的组合效果

### 性能优化
- 减少 Copies 数量可以提高录制流畅度
- 适中的 Axis Count（不要太高）
- Rotation 已优化，使用 CSS transform，性能最佳

### 其他技巧
- 尝试不同的 Render Mode 组合
- 调整 Grain 效果增加质感
- 使用 Gradient Angle 配合旋转

## 🔧 技术细节

- **帧率**: 10 FPS（每 100ms 一帧）
- **录制时长**: 5 秒（50 帧）
- **GIF 生成**: 使用 gif.js 库
- **动画频率**: 20 FPS（每 50ms 更新一次）

## ❗ 注意事项

### 方式一（播放按钮）
1. 必须先点击播放按钮，再点击 GIF 按钮
2. 不同 Render Mode 有不同的预设动画效果
3. 动画包含多个参数的复杂变化

### 方式二（参数循环）
1. 点击参数**标签文字**（不是滑块）开始循环
2. 标签变粗体表示正在循环
3. 可以同时开启多个参数的循环
4. 再次点击标签停止循环

### 通用注意事项
1. 录制过程中不要切换标签页或最小化窗口
2. GIF 文件大小取决于内容复杂度（通常 1-5MB）
3. 首次使用时会自动加载 gif.js 库（需要网络连接）
4. 如果既没有播放动画也没有参数循环，会提示先开始动画

### 两种方式对比

| 特性 | 方式一：播放按钮 | 方式二：参数循环 |
|------|----------------|----------------|
| **操作** | 点击播放按钮 → 点击 GIF | 点击参数标签 → 点击 GIF |
| **动画参数** | 多参数（Radius、Axis Count、Rotation 等） | 单个或多个可选参数 |
| **自定义性** | 预设动画配置 | 自由组合参数 |
| **复杂度** | 高（根据 Render Mode） | 可控（选择几个参数） |
| **适用场景** | 展示完整效果 | 参数对比、教学展示 |
| **原有功能** | 完全保留 | 新增功能 |

---

享受创造动态字体的乐趣！🎉
